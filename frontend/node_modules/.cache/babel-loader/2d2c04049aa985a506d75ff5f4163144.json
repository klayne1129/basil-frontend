{"ast":null,"code":"var _jsxFileName = \"/Users/KatieLayne/Documents/basil-app/basil-app/src/components/recipes/ViewRecipeComponent.jsx\";\nimport React, { Component } from 'react';\nimport AuthenticationService from './AuthenticationService.js';\nimport RecipeDataService from '../../api/recipes/RecipeDataService.js'; // view of single recipe\n\nclass ViewRecipeComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.match.params.id,\n      title: '',\n      directions: '',\n      ingredients: '',\n      notes: '',\n      mealType: '',\n      image: '',\n      tags: '',\n      prepTime: '',\n      cookTime: '',\n      servings: '',\n      siteURL: ''\n    };\n    this.refreshRecipe = this.refreshRecipe.bind(this);\n    this.printRecipeClicked = this.printRecipeClicked.bind(this);\n    this.updatrecipeClicked = this.updateRecipeClicked.bind(this);\n    this.deleteRecipeClicked = this.deleteRecipeClicked.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"component did Mount\");\n    this.refreshRecipe();\n  }\n\n  refreshRecipe() {\n    if (this.state.id === -1) {\n      return;\n    }\n\n    let username = AuthenticationService.getLoggedInUser();\n    RecipeDataService.retrieveRecipe(username, this.state.id).then(response => this.setState({\n      title: response.data.title,\n      directions: response.data.directions,\n      ingredients: response.data.ingredients,\n      notes: response.data.notes,\n      mealType: response.data.mealType,\n      image: response.data.image,\n      tags: response.data.tags,\n      prepTime: response.data.prepTime,\n      cookTime: response.data.cookTime,\n      servings: response.data.servings\n    }));\n  }\n\n  refreshRecipes() {\n    //use the username by using authentication service\n    let username = AuthenticationService.getLoggedInUser();\n    RecipeDataService.retrieveAllRecipes(username).then(response => {\n      this.setState({\n        recipes: response.data\n      });\n    });\n  }\n\n  printRecipeClicked(id) {\n    console.log(\"print\");\n    window.print();\n  } // push to that specific recipe page by id to edit\n\n\n  updateRecipeClicked(id) {\n    console.log('update ' + id);\n    this.props.history.push(`/recipes/${this.state.id}`);\n  } //    deletes recipe with username and id match, refreshes the recipe list\n\n\n  deleteRecipeClicked(id) {\n    let username = AuthenticationService.getLoggedInUser(); // console.log(id + \" \" + username)\n\n    RecipeDataService.deleteRecipe(username, id).then(response => {\n      this.refreshRecipes();\n      this.props.history.push(`/recipes`);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container pt-4\",\n      role: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-dark\",\n      value: \"Print\",\n      onClick: () => this.printRecipeClicked(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Print\"), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.updateRecipeClicked(this.state.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.deleteRecipeClicked(this.state.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Delete\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.title !== '' && React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.state.title), this.state.image !== '' && React.createElement(\"img\", {\n      className: \"recipelistimage\",\n      src: this.state.image,\n      alt: \"recipe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Ingredients:\"), this.state.ingredients !== '' && React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.state.ingredients.split('\\n').map((item, key) => {\n      return React.createElement(\"li\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, item);\n    }))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Steps:\"), this.state.directions !== '' && React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.directions.split('\\n').map((item, key) => {\n      return React.createElement(\"li\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, item);\n    }))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Servings:\"), this.state.servings !== '' && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.state.servings), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Prep Time:\"), this.state.prepTime !== '' && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.state.prepTime), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Cook Time:\"), this.state.cookTime !== '' && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, this.state.cookTime)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Tags:\"), this.state.tags !== '' && React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.state.tags.split(',').map((item, key) => {\n      return React.createElement(\"li\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, item);\n    }))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Notes:\"), this.state.notes !== '' && React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, this.state.notes)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Meal Type:\"), React.createElement(\"p\", {\n      className: \"lead\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, this.state.mealType))), React.createElement(\"a\", {\n      href: \"https://github.com/klayne1129\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"https://github.com/klayne1129\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ViewRecipeComponent;","map":{"version":3,"sources":["/Users/KatieLayne/Documents/basil-app/basil-app/src/components/recipes/ViewRecipeComponent.jsx"],"names":["React","Component","AuthenticationService","RecipeDataService","ViewRecipeComponent","constructor","props","state","id","match","params","title","directions","ingredients","notes","mealType","image","tags","prepTime","cookTime","servings","siteURL","refreshRecipe","bind","printRecipeClicked","updatrecipeClicked","updateRecipeClicked","deleteRecipeClicked","componentDidMount","console","log","username","getLoggedInUser","retrieveRecipe","then","response","setState","data","refreshRecipes","retrieveAllRecipes","recipes","window","print","history","push","deleteRecipe","render","split","map","item","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport AuthenticationService from './AuthenticationService.js'\nimport RecipeDataService from '../../api/recipes/RecipeDataService.js'\n\n// view of single recipe\nclass ViewRecipeComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            id: this.props.match.params.id,\n            title: '',\n            directions: '',\n            ingredients: '',\n            notes: '',\n            mealType: '',\n            image: '',\n            tags: '',\n            prepTime: '',\n            cookTime: '',\n            servings: '',\n            siteURL: ''\n\n        }\n        this.refreshRecipe = this.refreshRecipe.bind(this);\n        this.printRecipeClicked = this.printRecipeClicked.bind(this);\n        this.updatrecipeClicked = this.updateRecipeClicked.bind(this);\n        this.deleteRecipeClicked = this.deleteRecipeClicked.bind(this);\n    }\n    componentDidMount() {\n\n        console.log(\"component did Mount\")\n        this.refreshRecipe();\n    }\n\n    refreshRecipe() {\n\n        if (this.state.id === -1) {\n            return\n        }\n\n        let username = AuthenticationService.getLoggedInUser()\n\n        RecipeDataService.retrieveRecipe(username, this.state.id)\n            .then(response => this.setState({\n                title: response.data.title,\n                directions: response.data.directions,\n                ingredients: response.data.ingredients,\n                notes: response.data.notes,\n                mealType: response.data.mealType,\n                image: response.data.image,\n                tags: response.data.tags,\n                prepTime: response.data.prepTime,\n                cookTime: response.data.cookTime,\n                servings: response.data.servings\n            }))\n    }\n\n    refreshRecipes() {\n\n        //use the username by using authentication service\n        let username = AuthenticationService.getLoggedInUser()\n        RecipeDataService.retrieveAllRecipes(username)\n            .then(\n                response => {\n                    this.setState({ recipes: response.data })\n                }\n            )\n    }\n    printRecipeClicked(id) {\n        console.log(\"print\")\n        window.print();\n    }\n\n    // push to that specific recipe page by id to edit\n    updateRecipeClicked(id) {\n        console.log('update ' + id)\n        this.props.history.push(`/recipes/${this.state.id}`)\n    }\n\n    //    deletes recipe with username and id match, refreshes the recipe list\n    deleteRecipeClicked(id) {\n        let username = AuthenticationService.getLoggedInUser()\n        // console.log(id + \" \" + username)\n        RecipeDataService.deleteRecipe(username, id)\n            .then(\n                response => {\n                    this.refreshRecipes()\n                    this.props.history.push(`/recipes`)\n                }\n            )\n    }\n\n    render() {\n\n        return (\n\n            <div className='container pt-4' role='main'>\n                <div className=\"row\">\n                    <button className=\"btn btn-dark\" value=\"Print\" onClick={() => this.printRecipeClicked()}>Print</button>\n                    <button className=\"btn btn-primary\" onClick={() => this.updateRecipeClicked(this.state.id)} >Edit</button>\n                    <button className=\"btn btn-danger\" onClick={() => this.deleteRecipeClicked(this.state.id)} >Delete</button>\n                </div>\n\n                <div>\n\n                    <div>\n                        {this.state.title !== '' && <h1>{this.state.title}</h1>}\n                        {this.state.image !== '' && <img className='recipelistimage' src={this.state.image} alt='recipe'></img>}\n                    </div>\n                    <hr />\n\n                    <div>\n\n                        <h2>Ingredients:</h2>\n                        {this.state.ingredients !== '' && <p className='lead'><ul>{this.state.ingredients.split('\\n').map((item, key) => {\n                            return <li key={key}>{item}</li>\n                        })}</ul></p>}\n                        <hr />\n                        <h2>Steps:</h2>\n                        {this.state.directions !== '' && <p className='lead'><ol>{this.state.directions.split('\\n').map((item, key) => {\n                            return <li key={key}>{item}</li>\n                        })}</ol></p>}\n                        <hr />\n\n                        <div>\n                            <h5>Servings:</h5>\n                            {this.state.servings !== '' && <p>{this.state.servings}</p>}\n                            <h5>Prep Time:</h5>\n                            {this.state.prepTime !== '' && <p>{this.state.prepTime}</p>}\n                            <h5>Cook Time:</h5>\n                            {this.state.cookTime !== '' && <p>{this.state.cookTime}</p>}\n                        </div>\n                        <hr />\n\n                        <h2>Tags:</h2>\n                        {this.state.tags !== '' && <p className='lead'><ul>{this.state.tags.split(',').map((item, key) => {\n                            return <li key={key}>{item}</li>\n                        })}</ul></p>}\n                        <hr />\n\n                        <h2>Notes:</h2>\n                        {this.state.notes !== '' && <p className='lead'><ul>{this.state.notes}</ul></p>}\n                        <hr />\n                        <h2>Meal Type:</h2>\n                        <p className='lead'><ul>{this.state.mealType}</ul></p>\n\n\n                    </div>\n                    \n                        <a href=\"https://github.com/klayne1129\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/klayne1129</a>\n                       \n                </div>\n                <div>\n\n\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default ViewRecipeComponent"]},"metadata":{},"sourceType":"module"}